{{
function escapeHTML (unsafe_str) {
    return unsafe_str
      .replace(/&/g, '&amp;')
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/\"/g, '&quot;')
      .replace(/\'/g, '&#39;');
}
}}
<div id="p{{=it.id}}" data-sparent="{{=it.attrib()}}">
{{var items = it.items.slice();
items.sort(function(a,b){return a.order-b.order;});
for (var i=0; i<items.length;i++) { var item = items[i]; }}
<div data-sid="{{=item.id}}"
     data-sorder="{{=item.order}}">
{{=escapeHTML(item.html())}}
</div>
{{ } }}
<script>
cLoad('p{{=it.id}}');
</script>
</div>